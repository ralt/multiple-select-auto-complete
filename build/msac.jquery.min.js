(function(e){"use strict";function n(){function n(n){o=n.length,e.each(n,function(e){var n=r.clone();e===v&&n.addClass("suggested"),n.data("idx",this.valueOf()),n.text(f[this]).appendTo(u)})}function t(){var n=e("<div></div>",{"class":"msac-wrapper"});c=e("<input />",{type:"text"}),u=e("<div></div>",{"class":"suggestions"}),r=u.clone(),d=r.clone(),c.appendTo(n),u.appendTo(n),r[0].className="suggestion",d[0].className="selection",d.appendTo(n),n.insertAfter(l)}function s(e){var n=e.data("idx");c[0].value="",v=0,f.splice(n,1),e[0].className="selected",d.append(e),l[0].options[n].selected=!0,u.children().remove()}function i(n){var t=[],s=n.toLowerCase();return s?e.each(f,function(e){var n=this.toLowerCase(),i=n.indexOf(s);~i&&t.push(e)}):v=0,t.length?t:null}var o,a,c,u,r,d,l=e(this),f=[],v=0;l.hide(),e("option",l).each(function(){f.push(this.text)}),t(),c.on("keyup",function(){var e;u.children().remove(),e=i(this.value),e&&n(e)}),a={13:function(){return s(e(".suggested",u)),v=0,!1},38:function(){return v>0&&v--,!1},40:function(){return o-1>v&&v++,!1}},c.on("keydown",function(e){return a[e.keyCode]()}),u.on("mouseover","div",function(){e(".suggested").removeClass("suggested"),e(this).addClass("suggested")}),u.on("click","div",function(){s(e(this))})}e.fn.msac=function(){return this.each(n)},e.fn.msac.version="0.1.0"})(jQuery);